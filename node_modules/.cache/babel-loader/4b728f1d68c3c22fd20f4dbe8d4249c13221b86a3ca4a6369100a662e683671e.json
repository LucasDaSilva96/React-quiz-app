{"ast":null,"code":"import{useEffect,useReducer}from\"react\";import React from\"react\";import Header from\"./components/Header\";import Main from\"./components/Main\";import Loader from\"./components/Loader\";import Error from\"./components/Error\";import StartScreen from\"./components/StartScreen\";import Question from\"./components/Question\";import NextButton from\"./components/NextButton\";import Progress from\"./components/Progress\";import FinishScreen from\"./components/FinishScreen\";import FooterComponent from\"./components/FooterComponent\";import Timer from\"./components/Timer\";import QUESTIONS from\"./data/data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SECS_PER_QUESTION=30;const initialState={questions:[],// loading, error, ready, active, finished\nstatus:\"loading\",index:0,answer:null,points:0,highScore:0,secondsRemaining:null};function reducer(state,action){switch(action.type){case\"dataReceived\":return{...state,questions:action.payload,status:\"ready\"};case\"dataFailed\":return{...state,status:\"error\"};case\"start\":return{...state,status:\"active\",secondsRemaining:state.questions.length*SECS_PER_QUESTION};case\"newAnswer\":const question=state.questions.at(state.index);return{...state,answer:action.payload,points:action.payload===question.correctOption?state.points+question.points:state.points};case\"nextQuestion\":return{...state,index:state.index+1,answer:null};case\"finish\":return{...state,status:\"finished\",highScore:state.points>state.highScore?state.points:state.highScore};case\"restart\":return{...state,status:\"ready\",index:0,answer:null,points:0,secondsRemaining:300};case\"tick\":return{...state,secondsRemaining:state.secondsRemaining-1,status:state.secondsRemaining===0?\"finished\":state.status};default:throw new Error(\"Unknown action\");}}export default function App(){const[{questions,index,answer,points,highScore,secondsRemaining,status},dispatch]=useReducer(reducer,initialState);const numQuestions=questions.length;const maxPossiblePoints=questions.reduce((prev,curr)=>prev+curr.points,0);useEffect(function(){async function getQuestions(){try{const res=QUESTIONS;dispatch({type:\"dataReceived\",payload:res});}catch(err){dispatch({type:\"dataFailed\"});console.error(err.message);}}getQuestions();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Main,{children:[status===\"loading\"&&/*#__PURE__*/_jsx(Loader,{}),status===\"error\"&&/*#__PURE__*/_jsx(Error,{}),status===\"ready\"&&/*#__PURE__*/_jsx(StartScreen,{numQuestions:numQuestions,dispatch:dispatch}),status===\"active\"&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Progress,{index:index,numQuestions:numQuestions,points:points,maxPossiblePoints:maxPossiblePoints,answer:answer}),/*#__PURE__*/_jsx(Question,{question:questions[index],dispatch:dispatch,answer:answer}),/*#__PURE__*/_jsxs(FooterComponent,{children:[/*#__PURE__*/_jsx(Timer,{dispatch:dispatch,secondsRemaining:secondsRemaining}),/*#__PURE__*/_jsx(NextButton,{dispatch:dispatch,answer:answer,index:index,numQuestions:numQuestions})]})]}),status===\"finished\"&&/*#__PURE__*/_jsx(FinishScreen,{points:points,maxPossiblePoints:maxPossiblePoints,highScore:highScore,dispatch:dispatch})]})]});}","map":{"version":3,"names":["useEffect","useReducer","React","Header","Main","Loader","Error","StartScreen","Question","NextButton","Progress","FinishScreen","FooterComponent","Timer","QUESTIONS","jsx","_jsx","jsxs","_jsxs","SECS_PER_QUESTION","initialState","questions","status","index","answer","points","highScore","secondsRemaining","reducer","state","action","type","payload","length","question","at","correctOption","App","dispatch","numQuestions","maxPossiblePoints","reduce","prev","curr","getQuestions","res","err","console","error","message","className","children","Fragment"],"sources":["C:/Users/dasil/React-Course-2023/ultimate-react-course/10-react-quiz/react-quiz/src/App.js"],"sourcesContent":["import { useEffect, useReducer } from \"react\";\nimport React from \"react\";\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport Loader from \"./components/Loader\";\nimport Error from \"./components/Error\";\nimport StartScreen from \"./components/StartScreen\";\nimport Question from \"./components/Question\";\nimport NextButton from \"./components/NextButton\";\nimport Progress from \"./components/Progress\";\nimport FinishScreen from \"./components/FinishScreen\";\nimport FooterComponent from \"./components/FooterComponent\";\nimport Timer from \"./components/Timer\";\nimport QUESTIONS from \"./data/data\";\n\nconst SECS_PER_QUESTION = 30;\n\nconst initialState = {\n  questions: [],\n  // loading, error, ready, active, finished\n  status: \"loading\",\n  index: 0,\n  answer: null,\n  points: 0,\n  highScore: 0,\n  secondsRemaining: null,\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"dataReceived\":\n      return { ...state, questions: action.payload, status: \"ready\" };\n    case \"dataFailed\":\n      return { ...state, status: \"error\" };\n\n    case \"start\":\n      return {\n        ...state,\n        status: \"active\",\n        secondsRemaining: state.questions.length * SECS_PER_QUESTION,\n      };\n\n    case \"newAnswer\":\n      const question = state.questions.at(state.index);\n\n      return {\n        ...state,\n        answer: action.payload,\n        points:\n          action.payload === question.correctOption\n            ? state.points + question.points\n            : state.points,\n      };\n\n    case \"nextQuestion\":\n      return { ...state, index: state.index + 1, answer: null };\n\n    case \"finish\":\n      return {\n        ...state,\n        status: \"finished\",\n        highScore:\n          state.points > state.highScore ? state.points : state.highScore,\n      };\n\n    case \"restart\":\n      return {\n        ...state,\n        status: \"ready\",\n        index: 0,\n        answer: null,\n        points: 0,\n        secondsRemaining: 300,\n      };\n\n    case \"tick\":\n      return {\n        ...state,\n        secondsRemaining: state.secondsRemaining - 1,\n        status: state.secondsRemaining === 0 ? \"finished\" : state.status,\n      };\n    default:\n      throw new Error(\"Unknown action\");\n  }\n}\n\nexport default function App() {\n  const [\n    { questions, index, answer, points, highScore, secondsRemaining, status },\n    dispatch,\n  ] = useReducer(reducer, initialState);\n\n  const numQuestions = questions.length;\n  const maxPossiblePoints = questions.reduce(\n    (prev, curr) => prev + curr.points,\n    0\n  );\n\n  useEffect(function () {\n    async function getQuestions() {\n      try {\n        const res = QUESTIONS;\n        dispatch({ type: \"dataReceived\", payload: res });\n      } catch (err) {\n        dispatch({ type: \"dataFailed\" });\n        console.error(err.message);\n      }\n    }\n    getQuestions();\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <Header></Header>\n\n      <Main>\n        {status === \"loading\" && <Loader></Loader>}\n        {status === \"error\" && <Error></Error>}\n        {status === \"ready\" && (\n          <StartScreen\n            numQuestions={numQuestions}\n            dispatch={dispatch}\n          ></StartScreen>\n        )}\n        {status === \"active\" && (\n          <React.Fragment>\n            <Progress\n              index={index}\n              numQuestions={numQuestions}\n              points={points}\n              maxPossiblePoints={maxPossiblePoints}\n              answer={answer}\n            ></Progress>\n\n            <Question\n              question={questions[index]}\n              dispatch={dispatch}\n              answer={answer}\n            ></Question>\n            <FooterComponent>\n              <Timer\n                dispatch={dispatch}\n                secondsRemaining={secondsRemaining}\n              ></Timer>\n              <NextButton\n                dispatch={dispatch}\n                answer={answer}\n                index={index}\n                numQuestions={numQuestions}\n              ></NextButton>\n            </FooterComponent>\n          </React.Fragment>\n        )}\n\n        {status === \"finished\" && (\n          <FinishScreen\n            points={points}\n            maxPossiblePoints={maxPossiblePoints}\n            highScore={highScore}\n            dispatch={dispatch}\n          ></FinishScreen>\n        )}\n      </Main>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}